
<!--
A form for project state change.
-->
<section data-ng-controller="ProjectsController" data-ng-init="findOne()">
    <h2><span>{{project.project_ref}}: {{project.title}}</span>
    </h2>


    <h3>Koordinaattori: <a href="">{{project.coordinator}}</a>
        <span class="tila"><p>{{project.state}}</p></span></h3>
    <article class="change-box">

        <h3>Olet siirtämässä hanketta tilaan: <span class="strong-title">{{global.newState}}</span> </h3>

        <p>Siirtääksesi hankkeen tilasta "{{project.state}}" tilaan "{{global.newState}}", täytä alle puuttuvat tiedot. Hankkeen muiden tietojen muuttaminen on tehtävä "muokkaus" lomakkeen kautta. </p>

    </article>
    <a ng-href="/projects/{{project._id}}" class="btn btn-danger">Peruuta</a>

    <!--    Käsittelyssä -->

    <form name="inReviewForm" class="form-horizontal col-md-8" ng-show="global.newState === 'käsittelyssä'"  role="form" data-ng-submit="addReviewState(inReviewForm.$valid)" novalidate>

        <div class="form-group col-md-12">
            <label for="comments" class="col-md-2 control-label">Kommentit</label>
            <div class="col-md-10">
                <textarea name="comments" type="text" class="form-control" data-ng-model="project.in_review.comments" id="comments" placeholder="Siirretty käsittelyyn"></textarea>
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <button type="submit" id="review-btn" class="btn btn-default">Tallenna</button>
            </div>
        </div>
    </form>

    <!--        Hyväksytty-->

    <form name="approvedForm" class="form-horizontal col-md-8" ng-show="global.newState === 'hyväksytty'"  role="form" data-ng-submit="addApprovedState(approvedForm.$valid)" novalidate>

        <div class="form-group col-md-12">
            <label for="approved_date" class="col-md-2">Hyväksytty pvm</label>
            <div class="col-md-2" style="float:left;" ng-class="{
                    'has-error'
                            :  approvedForm.approved_day.$invalid }">
                <input name="approved_day" type="number" class="form-control" data-ng-model="approved_day" id="approved_day" placeholder="p">
                <div ng-show="approvedForm.approved_day.$invalid" class="help-block">
                    <p ng-show="approvedForm.approved_day.$error.number">Päivän täytyy olla numero</p>
                </div>
            </div>
            <div class="col-md-2" style="float:left;" ng-class="{
                    'has-error'
                            :  approvedForm.approved_month.$invalid }">
                <input name="approved_month" type="number" class="form-control" data-ng-model="approved_month" id="approved_month" placeholder="k">
                <div ng-show="approvedForm.approved_month.$invalid" class="help-block">
                    <p ng-show="approvedForm.approved_month.$error.number">Kuukauden täytyy olla numero</p>
                </div>
            </div>
            <div class="col-md-2" style="float:left;" ng-class="{
                    'has-error'
                            :  approvedForm.approved_year.$invalid }">
                <input name="approved_year" type="number" class="form-control" data-ng-model="approved_year" id="approved_year" placeholder="vvvv">
                <div ng-show="approvedForm.approved_year.$invalid" class="help-block">
                    <p ng-show="approvedForm.approved_year.$error.number">Vuoden täytyy olla numero</p>
                </div>
            </div>
            <div style="clear:both;">&nbsp;</div>




        </div>

        <div class="form-group col-md-12" ng-class="{
                'has-error'
                        :  approvedForm.approved_by.$invalid }">
            <label for="approved_by" class="col-md-2">Hyväksyjä</label>
            <div class="col-md-10">
                <select id="approved_by" data-ng-model="project.approved.approved_by" class='form-control'>
                    <option value="Toiminnanjohtaja">Toiminnanjohtaja</option>
                    <option value="Halko">Halko</option>
                    <option value="UM">UM</option>
                </select>
            </div>
        </div>

        <div class="form-group col-md-12">
            <label for="board_notified" class="col-md-2">Tiedoksiannon päivämäärä</label>
            <div class="col-md-2" style="float:left;" ng-class="{
                    'has-error'
                            :  approvedForm.board_notified_day.$invalid }">
                <input name="board_notified_day" type="number" class="form-control" data-ng-model="notified_day" id="board_notified_day" placeholder="p">
                <div ng-show="approvedForm.board_notified_day.$invalid" class="help-block">
                    <p ng-show="approvedForm.board_notified_day.$error.number">Päivän täytyy olla numero</p>
                </div>
            </div>
            <div class="col-md-2" style="float:left;" ng-class="{
                    'has-error'
                            :  approvedForm.board_notified_month.$invalid }">
                <input name="board_notified_month" type="number" class="form-control" data-ng-model="notified_month" id="board_notified_month" placeholder="k">
                <div ng-show="approvedForm.board_notified_month.$invalid" class="help-block">
                    <p ng-show="approvedForm.board_notified_month.$error.number">Kuukauden täytyy olla numero</p>
                </div>
            </div>
            <div class="col-md-2" style="float:left;" ng-class="{
                    'has-error'
                            :  approvedForm.board_notified_year.$invalid }">
                <input name="board_notified_year" type="number" class="form-control" data-ng-model="notified_year" id="board_notified_year" placeholder="vvvv">
                <div ng-show="approvedForm.board_notified_year.$invalid" class="help-block">
                    <p ng-show="approvedForm.board_notified_year.$error.number">Vuoden täytyy olla numero</p>
                </div>
            </div>
            <div style="clear:both;">&nbsp;</div>




        </div>

        <div class="form-group col-md-12">
            <label for="granted_sum_eur" class="col-md-2 control-label">Myönnetty summa (euro)</label>

            <div class="col-md-3" ng-class="{
                    'has-error'
                            :  approvedForm.granted_sum_eur.$invalid }">
                <input name="granted_sum_eur" type="number" class="form-control" data-ng-model="project.approved.granted_sum_eur" id="granted_sum_eur" placeholder="0">
                <div ng-show="approvedForm.granted_sum_eur.$invalid" class="help-block">
                    <p ng-show="approvedForm.granted_sum_eur.$error.number">Summan täytyy olla numero</p>
                </div>
            </div>
        </div>

        <div class="form-group col-md-12">
            <label mean-token="'create-themes'" class="col-md-2">Teemat</label>
            <div class="col-md-12">
                <table>
                    <tr ng-repeat="theme in themes">
                        <td><input
                                type="checkbox"
                                name="selectedThemes[]"
                                value="{{theme}}"
                                ng-checked="themeSelection.indexOf(theme) > -1"
                                ng-click="toggleThemeSelection(theme)"
                                > {{theme}}</td>
                    </tr>
                </table>
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <button id="appr-btn" type="submit" class="btn btn-default">Tallenna</button>
            </div>
        </div>
    </form>


    <!--    Hylätty-->

    <form name="rejectedForm" class="form-horizontal col-md-8" ng-show="global.newState === 'hylätty'"  role="form" data-ng-submit="addRejectedState(rejectedForm.$valid)" novalidate>
        <div class="form-group col-md-12">
            <label mean-token="'create-rejcategories'" class="col-md-3">Syyt</label>

            <div class="col-md-12" id="rejSelection" data-ng-repeat="rej in addedRejections">
                <select name="rejSelect" id="rejSelect" data-ng-model="rej.rejection">
                    <option data-ng-repeat="rejCat in rejcategories" value="{{rejCat}}">{{rejCat}}</option>
                </select>
            </div>

            <div class="col-md-12">
                <input id="addRej" type="button" value="Lisää uusi" ng-click="addRejection();"/>
                <input id="remRej" type="button" value="Poista viimeinen" ng-click="removeRejection();"/>
            </div>
        </div>

        <div class="form-group col-md-12">
            <label for="comments" class="col-md-2">Kommentit</label>
            <div class="col-md-10">
                <textarea name="comments" type="text" class="form-control" data-ng-model="project.rejected.rejection_comments" id="comments" placeholder="Kommentit hylkäysperusteille"></textarea>
            </div>
        </div>


        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <button id="rej-btn" type="submit" class="btn btn-default">Tallenna</button>
            </div>

        </div>
    </form>


    <!--Allekirjoitettu-->


    <form name="signedForm" class="form-horizontal col-md-8" ng-show="global.newState === 'allekirjoitettu'"  role="form" data-ng-submit="addSignedState(signedForm.$valid)" novalidate>

        <div class="form-group col-md-12">
            <label for="signed_by" class="col-md-2">Allekirjoittaja</label>
            <div class="col-md-10">
                <input name="signed_by" type="text" class="form-control" data-ng-model="project.signed.signed_by" id="signed_by" placeholder="Sopimuksen allekirjoittajan nimi" required>
            </div>

        </div>

        <div class="form-group col-md-12">
            <label for="signed_date_day" class="col-md-2">Päivämäärä</label>
            <div class="col-md-2" style="float:left;" ng-class="{
                    'has-error'
                            :  signedForm.signed_date_day.$invalid }">
                <input name="signed_date_day" type="number" class="form-control" data-ng-model="signed_day" id="signed_date_day" placeholder="p">
                <div ng-show="signedForm.signed_date_day.$invalid" class="help-block">
                    <p ng-show="signedForm.signed_date_day.$error.number">Päivän täytyy olla numero</p>
                </div>
            </div>
            <div class="col-md-2" style="float:left;" ng-class="{
                    'has-error'
                            :  signedForm.signed_date_month.$invalid }">
                <input name="signed_date_month" type="number" class="form-control" data-ng-model="signed_month" id="signed_date_month" placeholder="k">
                <div ng-show="signedForm.signed_date_month.$invalid" class="help-block">
                    <p ng-show="signedForm.signed_date_month.$error.number">Kuukauden täytyy olla numero</p>
                </div>
            </div>
            <div class="col-md-2" style="float:left;" ng-class="{
                    'has-error'
                            :  signedForm.signed_date_year.$invalid }">
                <input name="signed_date_year" type="number" class="form-control" data-ng-model="signed_year" id="signed_date_year" placeholder="vvvv">
                <div ng-show="signedForm.signed_date_year.$invalid" class="help-block">
                    <p ng-show="signedForm.signed_date_year.$error.number">Vuoden täytyy olla numero</p>
                </div>
            </div>
            <div style="clear:both;">&nbsp;</div>
        </div>

        <label for="plannedPaymentSelection" class="col-md-3">Maksusuunnitelma</label>
        <div class="form-group col-md-12"><p>Myönnetty summa: {{project.approved.granted_sum_eur| currency : ""}} €</p></div>
        <div class="form-group col-md-12" id="plPayments">
            <div class="col-md-12" name="plannedPaymentSelection" id="plannedPaymentSelection" data-ng-repeat="plannedPayment in plannedPayments">
                <div>
                    <label for="plannedDay" class="col-md-2 control-label">Päivämäärä</label>
                    <div class="col-md-2" style="float:left;">
                        <input name="plannedDay" type="number" class="form-control" data-ng-model="plannedPayment.day" id="plannedDay" placeholder="p">
                    </div>
                    <div class="col-md-2" style="float:left;">
                        <input name="plannedMonth" type="number" class="form-control" data-ng-model="plannedPayment.month" id="plannedMonth" placeholder="k">
                    </div>
                    <div class="col-md-2" style="float:left;">
                        <input name="plannedYear" type="number" class="form-control" data-ng-model="plannedPayment.year" id="plannedYear" placeholder="vvvv">
                    </div>
                </div>
                <div style="clear:both;">&nbsp;</div>
                <div>
                    <label for="plannedSumEUR" class="col-md-2 control-label">Summa (EUR)</label>
                    <div class="col-md-5">
                        <input name="plannedSumEUR" type="number" class="form-control" data-ng-model="plannedPayment.sum_eur" id="plannedSumEUR" placeholder="Summa (EUR)">
                    </div>
                </div>
            </div>

            <div class="col-md-12">
                <input type="button" id="add-btn" value="Lisää uusi" ng-click="addPlannedPayment();"/>
                <input type="button" value="Poista viimeinen" ng-click="removePlannedPayment();"/>
            </div>

        </div>

        <label for="reportDeadlines" class="col-md-3">Raporttien eräpäivät</label>
        <div class="form-group col-md-12">

            <div class="col-md-12" name="reportDeadlines" id="reportDeadlines" data-ng-repeat="deadline in deadlines">
                <label for="dlRep" class="col-md-2 control-label">Raportti</label>
                <div class="col-md-5" style="float:left;">
                    <input name="dlRep" type="text" class="form-control" data-ng-model="deadline.report" id="dlRep" placeholder="Raportti">
                </div>
                <div style="clear:both;">&nbsp;</div>
                <div name="dlDate">
                    <label for="dlDay" class="col-md-2 control-label">Eräpäivä</label>
                    <div class="col-md-2">
                        <input name="dlDay" type="number" class="form-control" data-ng-model="deadline.day" id="dlDay" placeholder="p">
                    </div>
                    <div class="col-md-2" style="float:left;">
                        <input name="dlMonth" type="number" class="form-control" data-ng-model="deadline.month" id="dlMonth" placeholder="k">
                    </div>
                    <div class="col-md-2" style="float:left;">
                        <input name="dlYear" type="number" class="form-control" data-ng-model="deadline.year" id="dlYear" placeholder="vvvv">
                    </div>
                    <div style="clear:both;">&nbsp;</div>
                    <br>
                </div>
            </div>

            <div class="col-md-12">
                <input type="button" id="add-btn2" value="Lisää uusi" ng-click="addDeadline();"/>
                <input type="button" value="Poista viimeinen" ng-click="removeDeadline();"/>
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <button type="submit" class="btn btn-default" id="sign-btn">Tallenna</button>
            </div>
        </div>
    </form>


    <!--    Väliraportti-->


    <form name="intReportForm" class="form-horizontal col-md-8" ng-show="global.newState === 'väliraportti'"  role="form" data-ng-submit="addIntReportState(intReportForm.$valid)" novalidate>

        <div class="form-group col-md-12">
            <label for="payments" class="col-md-2">Maksatukset</label>
            <p class="col-md-12 comment-form-div">Maksettu:</p>
            <div class="form-group col-md-12" ng-repeat="payment in project.payments">
                <div class="col-md-4">
                    {{payment.sum_eur| currency : ""}} EUR / {{payment.payment_date| date : 'dd-MM-yyyy'}}
                </div>
            </div>

        </div>

        <p class="col-md-12 strong-title comment-form-div">Toimintatavat ja niiden toteutuminen</p>
        <div class="form-group col-md-12" ng-repeat="method in project.methods">
            <div class="col-md-4">
                {{method.name}} <br>- {{method.level}} <br><br>
                {{method.comment}}
            </div>
            <div class="col-md-8">
                <textarea name="intRMethods" type="text" class="form-control" data-ng-model="addedMethods[(project.methods).indexOf(method)]" id="intRMethods" placeholder="Kommentteja"></textarea>
            </div>
        </div>

        <p class="col-md-12 strong-title comment-form-div">Tavoitteet ja niiden toteutuminen</p>
        <div class="form-group col-md-12">
            <div class="col-md-4">
                <p>{{project.project_goal}}</p>
            </div>
            <div class="col-md-8">
                <textarea name="objComments" type="text" class="form-control" data-ng-model="objectiveComments[0]" id="objComments" placeholder="Kommentteja tavoitteiden toteutumisesta"></textarea>
            </div>
        </div>

        <div class="form-group col-md-12">
            <label for="overallKios" class="col-md-2">KIOS:in kokonaisarvio</label>
            <div class="col-md-10">
                <textarea name="overallKios" type="text" class="form-control" data-ng-model="project.intermediary_report.overall_rating_kios"
                          id="overallKios" placeholder="KIOS:in arvio"></textarea>
            </div>
        </div>


        <div class="form-group col-md-12">
            <label for="comments" class="col-md-2">Muut kommentit</label>
            <div class="col-md-10">
                <textarea name="intRComments" type="text" class="form-control" data-ng-model="project.intermediary_report.comments" id="intRcomments" placeholder="Muut raportin kommentit"></textarea>
            </div>
        </div>

        <div class="form-group col-md-12">
            <label for="intRApprovedBy" class="col-md-2">Hyväksyjä</label>
            <div class="col-md-10">
                <input name="intRApprovedBy" type="text" class="form-control" data-ng-model="project.intermediary_report.approved_by" id="intRApprovedBy" placeholder="Väliraportin hyväksyjä">
            </div>
        </div>

        <div class="form-group col-md-12">
            <label for="intRDateAppr" class="col-md-2">Hyväksymis pvm</label>

            <div class="col-md-2" style="float:left;" ng-class="{
                    'has-error'
                            :  intReportForm.intRDateAppr_day.$invalid }">
                <input name="intRDateAppr_day" type="number" class="form-control" data-ng-model="intRDateAppr_day" id="intRDateAppr_day" placeholder="p">
                <div ng-show="intReportForm.intRDateAppr_day.$invalid" class="help-block">
                    <p ng-show="intReportForm.intRDateAppr_day.$error.number">Päivän täytyy olla numero</p>
                </div>
            </div>
            <div class="col-md-2" style="float:left;" ng-class="{
                    'has-error'
                            :  intReportForm.intRDateAppr_month.$invalid }">
                <input name="intRDateAppr_month" type="number" class="form-control" data-ng-model="intRDateAppr_month" id="intRDateAppr_month" placeholder="k">
                <div ng-show="intReportForm.intRDateAppr_month.$invalid" class="help-block">
                    <p ng-show="intReportForm.intRDateAppr_month.$error.number">Kuukauden täytyy olla numero</p>
                </div>
            </div>
            <div class="col-md-2" style="float:left;" ng-class="{
                    'has-error'
                            :  intReportForm.intRDateAppr_year.$invalid }">
                <input name="intRDateAppr_year" type="number" class="form-control" data-ng-model="intRDateAppr_year" id="intRDateAppr_year" placeholder="vvvv">
                <div ng-show="intReportForm.intRDateAppr_year.$invalid" class="help-block">
                    <p ng-show="intReportForm.intRDateAppr_year.$error.number">Vuoden täytyy olla numero</p>
                </div>
            </div>

        </div>


        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <button id="intrep-btn" type="submit" class="btn btn-default">Tallenna</button>
            </div>
        </div>
    </form>


    <!--   Loppuraportti-->

    <form name="endReportForm" class="form-horizontal col-md-8" ng-show="global.newState === 'loppuraportti'"  role="form" data-ng-submit="addEndReportState(endReportForm)" novalidate>

        <div class="form-group col-md-12">
            <label for="audit_date" class="col-md-2">Tilintarkastus pvm</label>
            <div class="col-md-2" style="float:left;" ng-class="{
                    'has-error'
                            : endReportForm.audit_day.$invalid }">
                <input name="audit_day" type="number" class="form-control" data-ng-model="audit_day" id="audit_day" placeholder="p">
                <div ng-show="endReportForm.audit_day.$invalid" class="help-block">
                    <p ng-show="endReportForm.audit_day.$error.number">Päivän täytyy olla numero</p>
                </div>
            </div>
            <div class="col-md-2" style="float:left;" ng-class="{
                    'has-error'
                            :  endReportForm.audit_month.$invalid }">
                <input name="audit_month" type="number" class="form-control" data-ng-model="audit_month" id="audit_month" placeholder="k">
                <div ng-show="endReportForm.audit_month.$invalid" class="help-block">
                    <p ng-show="endReportForm.audit_month.$error.number">Kuukauden täytyy olla numero</p>
                </div>
            </div>
            <div class="col-md-2" style="float:left;" ng-class="{
                    'has-error'
                            :endReportForm.audit_year.$invalid }">
                <input name="audit_year" type="number" class="form-control" data-ng-model="audit_year" id="audit_year" placeholder="vvvv">
                <div ng-show="endReportForm.audit_year.$invalid" class="help-block">
                    <p ng-show="endReportForm.audit_year.$error.number">Vuoden täytyy olla numero</p>
                </div>
            </div>
        </div>
        <div style="clear:both;">&nbsp;</div>
        <div class="form-group col-md-12">
            <label for="audit_review" class="col-md-2">Tilintarkastuksen Arvio</label>
            <div class="col-md-8">
                <textarea name="audit_review" type="text" class="form-control" data-ng-model="project.end_report.audit.review" id="audit_review" placeholder="Arvio tilintarkastuksesta"></textarea>
            </div>

        </div>

        <p class="col-md-12 strong-title comment-form-div">Toimintatavat ja niiden toteutuminen</p>
        <div class="form-group col-md-12" ng-repeat="method in project.methods">
            <div class="col-md-4">
                {{method.name}} <br>- {{method.level}} <br><br>
                {{method.comment}}
            </div>
            <div class="col-md-8">
                <textarea name="er_methods" type="text" class="form-control" data-ng-model="addedMethods[(project.methods).indexOf(method)]" id="er_methods" placeholder="Kommentteja"></textarea>
            </div>

        </div>

        <p class="col-md-12 strong-title comment-form-div">Hankkeen tärkeimmät tulokset</p>
        <div class="form-group col-md-12">
            <div class="col-md-4">
                <p>{{project.project_goal}}</p>
            </div>
            <div class="col-md-8">
                <textarea name="objectivesComments" type="text" class="form-control" data-ng-model="project.end_report.objective" id="objectivesComments" placeholder="Kommentteja kokonaistavoitteen toteutumisesta"></textarea>
            </div>
        </div>
        <div class="form-group col-md-12">
            <p class="col-md-12 strong-title comment-form-div">KIOS:in kokonaisarvio</p>
            <div class="col-md-12">
                <textarea name="gen_review" type="text" class="form-control" data-ng-model="project.end_report.general_review" id="gen_review" placeholder="Muut raportin kommentit"></textarea>
            </div>
        </div>

        <div class="form-group col-md-12">
            <label for="approvedBy" class="col-md-2">Hyväksyjä</label>
            <div class="col-md-8">
                <input name="approvedBy" type="text" class="form-control" data-ng-model="project.end_report.approved_by" id="approvedBy" placeholder="Hyväksyjän nimi">
            </div>
        </div>
        <div class="form-group col-md-12">
            <label for="audit_day" class="col-md-2">Hyväksymis pvm</label>
            <div class="col-md-2" style="float:left;" ng-class="{
                    'has-error'
                            :  endReportForm.er_approved_day.$invalid }">
                <input name="er_approved_day" type="number" class="form-control" data-ng-model="er_approved_day" id="er_approved_day" placeholder="p">
                <div ng-show="endReportForm.er_approved_day.$invalid" class="help-block">
                    <p ng-show="endReportForm.er_approved_day.$error.number">Päivän täytyy olla numero</p>
                </div>
            </div>
            <div class="col-md-2" style="float:left;" ng-class="{
                    'has-error'
                            :  endReportForm.er_approved_month.$invalid }">
                <input name="er_approved_month" type="number" class="form-control" data-ng-model="er_approved_month" id="er_approved_month" placeholder="k">
                <div ng-show="endReportForm.er_approved_month.$invalid" class="help-block">
                    <p ng-show="endReportForm.er_approved_month.$error.number">Kuukauden'täytyy olla numero</p>
                </div>
            </div>
            <div class="col-md-2" style="float:left;" ng-class="{
                    'has-error'
                            :  endReportForm.er_approved_year.$invalid }">
                <input name="er_approved_year" type="number" class="form-control" data-ng-model="er_approved_year" id="er_approved_year" placeholder="vvvv">
                <div ng-show="endReportForm.er_approved_year.$invalid" class="help-block">
                    <p ng-show="endReportForm.er_approved_year.$error.number">Vuoden täytyy olla numero</p>
                </div>
            </div>
            <div style="clear:both;">&nbsp;</div>
        </div>


        <p class="col-md-12 strong-title comment-form-div">Muut kommentit</p>
        <div class="col-md-12">
            <textarea name="comments" type="text" class="form-control" data-ng-model="project.end_report.comments" id="comments" placeholder="Muut raportin kommentit"></textarea>
        </div>

        <div class="form-group">
            <div class="col-md-offset-10 col-md-12">
                <button type="submit" id="er-btn" class="btn btn-default">Tallenna</button>
            </div>
        </div>
    </form>

    <!--Päättynyt-->

    <form name="endedForm" class="form-horizontal col-md-8" ng-show="global.newState === 'päättynyt'"  role="form" data-ng-submit="addEndedState(endedForm.$valid)" novalidate>

        <div class="form-group col-md-12">
            <div>
                <label for="endDay" class="col-md-2 control-label">Päivämäärä</label>
                <div class="col-md-2" style="float:left;">
                    <input name="endDay" type="number" class="form-control" data-ng-model="end_day" id="endDay" placeholder="p">
                </div>
                <div class="col-md-2" style="float:left;">
                    <input name="endMonth" type="number" class="form-control" data-ng-model="end_month" id="endMonth" placeholder="k">
                </div>
                <div class="col-md-2" style="float:left;">
                    <input name="endYear" type="number" class="form-control" data-ng-model="end_year" id="endYear" placeholder="vvvv">
                </div>
            </div>
        </div>

        <div class="form-group col-md-12">
            <label for="approved_by" class="col-md-2"> Hyväksyjä</label>
            <div class="col-md-10">
                <select id="approved_by" data-ng-model="project.ended.approved_by" class='form-control'>
                    <option value="toiminnanjohtaja">Toiminnanjohtaja</option>
                    <option value="hallitus">Hallitus</option>
                </select>
            </div>
        </div>

        <div class="form-group col-md-12">
            <div>
                <label for="notifiedDay" class="col-md-2">Tiedoksiannnon päivämäärä</label>
                <div class="col-md-2" style="float:left;">
                    <input name="notifiedDay" type="number" class="form-control" data-ng-model="end_notified_day" id="notifiedDay" placeholder="p">
                </div>
                <div class="col-md-2" style="float:left;">
                    <input name="notifiedMonth" type="number" class="form-control" data-ng-model="end_notified_month" id="notifiedMonth" placeholder="k">
                </div>
                <div class="col-md-2" style="float:left;">
                    <input name="notifiedYear" type="number" class="form-control" data-ng-model="end_notified_year" id="notifiedYear" placeholder="vvvv">
                </div>
            </div>

        </div>

        <div class="form-group col-md-12">
            <label for="comments" class="col-md-2">Muut kommentit</label>
            <div class="col-md-10">
                <textarea name="comments" type="text" class="form-control" data-ng-model="project.ended.other_comments" id="comments" placeholder="Muut päättämiseen liittyvät kommentit"></textarea>
            </div>

        </div>


        <div class="form-group col-md-12">
            <div class="col-md-offset-2 col-md-10">
                <button id="end-btn" type="submit" class="btn btn-default">Tallenna</button>
            </div>
        </div>
    </form>


    <hr>

    <article class="proj-left">
        <h4 class="proj-header">Kuvaus</h4>
        <span class="proj-body">
            {{project.description}}
        </span>
    </article>

    <article class="proj-div">
        <h4 class="proj-header">Hanketiedot</h4>
        <section class="proj-body">
            <p>DAC: {{project.dac}}</p>
            <p>Kirjattu: {{project.reg_date| date:'dd-MM-yyyy'}}</p>
            <p ng-show="project.approved.granted_sum_eur" class="ng-hide">Myönnetty: {{project.approved.granted_sum_eur| currency : ""}} EUR</p>
            <p ng-show="!project.approved.granted_sum_eur" class="ng-hide">Haettu: {{project.funding.applied_curr_eur| currency : ""}} EUR ({{project.funding.applied_curr_local| currency : ""}} local)</p>
            <p>Kesto: {{project.duration_months}} kk</p>
        </section>
    </article>

    <article class="proj-div">
        <h4 class="proj-header">Järjestö</h4>
        <section class="proj-body">
            <p>Nimi: {{project.organisation.name}}</p>
            <p>Edustaja: {{project.organisation.representative}}</p>
        </section>
    </article>

</section>
